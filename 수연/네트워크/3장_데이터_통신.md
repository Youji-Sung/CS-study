## OSI 7 layer의 2계층

가까이 있는 컴퓨터끼리는 이렇게 데이터를 주고 받는다.

✔ OSI 7 layer에서 역할은 외우는 정도면 된다.

✔ 반드시 이해해야하는 것이 2, 3, 4 계층에서 사용하는 주소체계이다.



### 2계층에서 하는 일

#### 2계층의 기능

2계층은 하나의 네트워크 대역 즉, 같은 네트워크 상(같은 LAN 대역)에 존재하는 여러 장비들(노드들) 중에서 어떤 장비가 어떤 장비에게 보내는 데이터를 전달

추가적으로 전달한 데이터의 오류제어, 흐름제어 수행

✔ 오류제어: 보낸 데이터에 오류가 있는지 확인하는 것

✔ 흐름제어: 누가 누구에게 보내는 가



#### 2계층의 네트워크 크기

2계층은 하나의 네트워크 대역 LAN에서만 통신할 때 사용한다.

다른 네트워크와 통신할 때는 항상 3계층이 도와주어야한다.

3계층의 주소와 3계층의 프로토콜을 이용하여야만 다른 네트워크와 통신이 가능하다.



### 2계층에서 사용하는 주소

#### 물리적인 주소

LAN에서 통신할 때 사용하는 **MAC 주소**

물리적인 장비에 부여된 주소

12개의 16진수로 이루어져 있다.

* 2개씩 구분하면 - 혹은 :으로 구분되어있다.
* 앞 6개: OUI로 IEEE에서 부여하는 일종의 제조회사 식별 ID
* 뒤 6개: 고유번호로 제조사에서 부여한 고유번호

하드웨어에 주어진 주소로 쉽게 바꾸기 어렵다.

✔ cmd에서 간단하게 확인할 수 있다.



### 2계층 프로토콜

#### Ethernet 프로토콜

![image-20220830192053402](3%EC%9E%A5_%EB%8D%B0%EC%9D%B4%ED%84%B0_%ED%86%B5%EC%8B%A0.assets/image-20220830192053402.png)

!![image-20220906205154032](3%EC%9E%A5_%EB%8D%B0%EC%9D%B4%ED%84%B0_%ED%86%B5%EC%8B%A0.assets/image-20220906205154032.png)

✔ 초록영역은 이전 프로토콜 입장에서 payload인 부분이다.

✔ 빨간색으로 표시한 부분만 알아두면 된다. 

​	* 한 줄씩 4byte로 표시한 부분은 14byte이다.

👉 Destination Address [6byte]

* MAC주소: 6byte 16진수 두개당 1byte인데 12개이므로 6byte
* Destination Address에 MAC주소가 온다.
* 목적지(받는 사람)의 MAC주소가 이 위치에 오게된다.

👉 Source Address [6byte]

* 출발지 MAC주소가 위치에 오게된다.

👉 Ethernet Type

* DATA안에 payload 상위 프로토콜 내용이 있을 것(3계층 프로토콜)
* encapsulation되어서 왔을 것이기 때문에 Ethernet Protocol 입장에서 Payload에 3계층의 어떤 프로토콜이 있는지 미리 알려주는 것
* 알려주는 이유는 전기적 신호로 패킷이 전달되는 데 미리 어떤 프로토콜인지 알고 있다면 분석이 용이하다. (정확히는, 모르면 알 수 없다.)
* 다른 프로토콜도 대부분 상위 프로토콜을 알려준다. 
  * 3계층의 프로토콜
  * IP: 0800(16진수)
  * ARP: 0806(16진수)

✔ 그 외의 부분은 상식으로 알아 두면 되는 부분이다.

**Preamble**



예시)

두대의 컴퓨터가 같은 네트워크에 있다.

A에서 B로 데이터를 보낸다고 가정

MAC 주소 

AA:AA:AA:AA:AA

받는 사람의 MAC 주소

BB:BB:BB:BB:BB

![image-20220906210400442](3%EC%9E%A5_%EB%8D%B0%EC%9D%B4%ED%84%B0_%ED%86%B5%EC%8B%A0.assets/image-20220906210400442.png)

16진수로 적혀있으나 2진수로 된다.