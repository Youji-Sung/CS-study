> 라이브러리
>
> - 공통으로 사용될 수 있는 특정한 기능들의 모듈화
> - 폴더명, 파일명 등에 대한 규칙 X
> - 프레임워크에 비해 자유로움
>
> 프레임워크
>
> - 공통으로 사용될 수 있는 특정한 기능들의 모듈화
> - 폴더명, 파일명 등에 대한 규칙 O
> - 라이브러리에 비해 엄격





## 1. 1 디자인 패턴

프로그램을 설계할 때 발생했던 문제점들을 객체 간 의 상호 관계 등을 이용하여 해결할 수 있도록 하나의 ‘규약’ 형태로 만들어 놓은 것을 의미



### 1. 1. 1 싱글톤 패턴

하나의 클래스에 오직 하나의 인스턴스만 가지는 패턴

- 데이터베이스 연결 모듈에 많이 사용됨
- 하나의 인스턴스를 만들어 놓고 해당 인스턴스를 다른 모듈들이 공유 하며 사용
  - 인스턴스를 생성할 때 비용이 줄어든다
  - 의존성이 높아진다

#### 단점

TDD를 할 때 걸림돌

- TDD: 단위 테스트(테스트가 서로 독립적, 어떤 순서로든 실행할 수 있어야 한다)

싱글톤

- 미리 생성된 하나의 인스턴스를 기반으로 구현 하는 패턴
- 각 테스트마다 ‘독립적인’ 인스턴스를 만들기가 어렵다



#### 의존성 주입

Dependency Injection

모듈 간의 결합을 느슨하게 만들기 위해

**메인 모듈**이 '직접' 의존성을 주기보다는 **의존성 주입자**가 메인 모듈이 '간접적'으로 의존성을 주입하는 방식



##### 장점

- 모듈들을 쉽게 교체할 수 있는 구조가 된다
  - 테스팅하기 쉽다
  - 마이그레이션이 수월하다
- 구현할 때 추상화 레이어를 넣고 이를 기반으로 구현체를 넣어주기 때문에 애플리케이션의 의존성 방향이 일관됨
- 애플리케이션을 쉽게 추론할 수 있다
- 모듈 간의 관계들이 명확해짐

##### 단점

- 모듈들의 분리로 클래스 수가 일어나 복잡성 증가
- 런타임 페널티가 생김

##### 의존성 주입 원칙

- 상위 모듈은 하위 모듈에서 어떠한 것도 가져오지 않아야 한다
- 추상화에 의존해야 한다
  - 추상화는 세부사항에 의존하지 말아야 한다