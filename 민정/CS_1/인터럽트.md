## 정의

어떤 신호가 들어왔을 때 CPU를 잠깐 정지시키는 것



## 종류

### 1. 하드웨어 인터럽트

#### 	1. 일반적인 하드웨어 인터럽트

​	입출력 장치(키보드, 마우스 등 IO 디바이스)의 컨트롤러가 CPU의 서비스를 요청하기 위해 발생시키는 인터럽트

#### 	2. 운영체제의 타이머 인터럽트

​	운영 체제에서는 각 프로그램들이 공평한 시간 동안 CPU를 할당 받을 수 있도록 세팅된 시간 동안 CPU를 사용하고, 사	용시간이 종료되면 인터럽트를 발생 시킨다.



### 2. 소프트웨어 인터럽트 (trap)

> 프로세스 오류 등으로 프로세스가 시스템콜을 호출할 때 발동

#### 	1. 예외 상황(Exception)

​	프로그램이 허용되지 않은 연산을 수행하려고 할 때 발생

​	ex: 0으로 숫자를 나누는 산술 연산, 자신의 주소 공간을 넘어서는 메모리 참조

​	운영체제는 이러한 상황이 발생했을 때, CPU의 제어권을 획득해 조치를 취한다

#### 2. 시스템 콜

​	사용자 프로세스가 운영체제의 서비스를 요청하기 위해 `커널의 함수를 호출`하는 것

​		사용자 프로세스가 직접 특권 명령을 수행할 수 없으므로

​		ex: 프로세서 제어, 파일 조작, 장치 관리, 정보 유지, 통신, 사용자 모드



### 

### 우선순위 판별방법 (인터럽트가 2개 이상 발생했을 )

### 폴링 방식

`소프트웨어적`으로 인터럽트 우선순위를 판별하는 방법

- 이벤트 수행 신호를 주기적으로 검사하며 신호를 받으면 실행됨
- 장점: 회로가 간단, 우선순위 변경이 용이함
- 단점: 반응시간이 느리고(정확한 타이밍 x, 주기에 따른 오차) 리소스를 많이 차지함

### (벡터) 인터럽트 방식

`하드웨어적`으로 인터럽트 우선순위를 판별하는 방법

`실시간 대응`이 필요할 때는 필수적인 기능

- `핸들러`가 인터럽트를 확인한다
- 장점: 정확한 타이밍, 짧은 반응시간, 시스템 부하가 적다
- 단점: 회로가 복잡, 추가 하드웨어가 필요하므로 비경제적

1. 데이지 체인

   직렬 우선순위 부여 방식

   인터럽트가 발생하는 모든 장치를 한개의 회선에 직렬로 연결

   우선순위가 높은 장치를 맨 앞에 위치시키며 우선 순위에 따라 연결

2. 병렬 우선순위 부여 방식

   각 장치마다 별개의 회선으로 연결





 인터럽트 벡터

- 인터럽트 발생 시 처리해야 할 루틴의 `주소`를 보관하고 있는 테이블

- 함수를 가리키는 포인터

  

인터럽트 핸들러 (인터럽트 서비스 루틴)

- 인터럽트가 발생했을 때 이를 처리하기 위한 루틴 or 함수

- 운영체제 코드 부분에는 각종 인터럽트 별로 처리해야 할 내용이 이미 프로그램돼 있음





## 과정 정리 (인터럽트 핸들링)

프로그램 A가 CPU를 할당받아 실행 중

- 인터럽트 발생
  - `인터럽트 라인`이 감지
  - CPU는 명령을 실행할 때마다 인터럽트 라인을 확인한다
- A의 현재 상태 저장
  - 프로세스 제어 블록(PCB: Process Control Block)에 저장
- 인터럽트 벡터를 통해 해당 인터럽트 발생 시 처리해야 할 루틴의 메모리 주소를 알아낸다
- 주소를 통해 수행돼야 할 코드가 담겨있는 루틴을 찾아가 처리한다
- A의 상태 복원
  -  PCB에 저장된 주소를 복원시켜 프로그램을 재개한다





## 참고

- https://velog.io/@woo00oo/%EC%9D%B8%ED%84%B0%EB%9F%BD%ED%8A%B8Interrupt
- 면접을 위한 CS 전공지식 노트
- https://github.com/gyoogle/tech-interview-for-developer/blob/master/Computer%20Science/Operating%20System/Interrupt.md
- https://kkhipp.tistory.com/156
- https://primayy.tistory.com/43